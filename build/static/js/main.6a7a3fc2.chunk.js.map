{"version":3,"sources":["services/notes.js","components/form.js","components/phonenumberlist.js","components/errormessage.js","App.js","index.js"],"names":["baseUrl","methods","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","del","delete","Form","formSubmit","newName","newPhone","nameHandler","phoneHandler","onSubmit","value","onChange","type","Person","person","onDeleteButtonClick","name","number","onClick","PhoneNumberList","persons","newFilter","map","toLowerCase","includes","ErrorMessage","errorObject","styleObj","color","border","className","style","text","App","useState","setPersons","setNewName","setNewPhone","setNewFilter","errorMessage","setErrorMessage","useEffect","noteServise","handleChangingErrorMessage","messageText","messageColor","setTimeout","event","target","preventDefault","filter","length","currentPerson","find","window","confirm","nameObject","catch","concat","error","console","log","personToBeDeleted","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6a7a3fc2.chunk.js","sourcesContent":["import axios from \"axios\"\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => (\r\n    axios.get(baseUrl).then(response => response.data)\r\n)\r\n\r\nconst create = newObject => (\r\n    axios.post(baseUrl, newObject).then(response => response.data)\r\n)\r\n\r\nconst update = (id, newObject) => (\r\n    axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\r\n)\r\n\r\nconst del = (id) => (\r\n    axios.delete(`${baseUrl}/${id}`).then(response => response.data)\r\n)\r\n\r\nconst methods = { getAll, create, update, del }\r\n\r\nexport default methods","import React from \"react\"\r\n\r\nconst Form = ({ formSubmit, newName, newPhone, nameHandler, phoneHandler }) => (\r\n    <>\r\n      <h2>add a new</h2>\r\n      <form onSubmit={formSubmit}>\r\n        <div>\r\n          name: <input value={newName} onChange={nameHandler} />\r\n        </div>\r\n        <div>\r\n          number: <input value={newPhone} onChange={phoneHandler} />\r\n        </div>\r\n        <button type=\"submit\">add</button>\r\n      </form>\r\n    </>\r\n  \r\n  )\r\n\r\n  export default Form","import React from \"react\"\r\n\r\nconst PhoneNumberList = ({ persons, newFilter, onDeleteButtonClick }) => (\r\n    <>\r\n      <h2>Numbers</h2>\r\n      {persons.map( (person) => {\r\n        if (person.name.toLowerCase().includes(newFilter.toLowerCase()) ) {\r\n          return <Person person={person} onDeleteButtonClick={onDeleteButtonClick} key={person.id}/>\r\n        }\r\n        return <></>\r\n      })}\r\n    </>\r\n  )\r\n  \r\n  const Person = ({ person, onDeleteButtonClick }) => (\r\n    <div>\r\n      {person.name} {person.number} <button onClick={() => onDeleteButtonClick(person.id)}>delete</button>\r\n    </div>\r\n  )\r\n\r\n  export default PhoneNumberList","import React from \"react\"\r\n\r\nconst ErrorMessage = ({ errorObject }) => {\r\n    if (errorObject === null) {\r\n      return null\r\n    }\r\n    const styleObj = {\r\n      color: errorObject.color,\r\n      border: `2px solid ${errorObject.color}`\r\n    }\r\n    return (\r\n      <div className={'errorMessage'} style={styleObj}>\r\n        {errorObject.text}\r\n      </div>\r\n      )\r\n  }\r\n  \r\n  export default ErrorMessage","import React, { useState, useEffect } from 'react'\nimport noteServise from './services/notes'\nimport Form from './components/form'\nimport PhoneNumberList from './components/phonenumberlist'\nimport ErrorMessage from './components/errormessage'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newPhone, setNewPhone] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    noteServise\n      .getAll()\n      .then(response => {\n        setPersons(response)\n    })\n  }, [])\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handlePhoneChange = (event) => setNewPhone(event.target.value)\n  const handleFilterChange = (event) => setNewFilter(event.target.value)\n\n  const handleChangingErrorMessage = (messageText, messageColor) => {\n    const newErrorObject = {\n      text:messageText,\n      color:messageColor\n    }\n    setErrorMessage(newErrorObject)\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n  }\n\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if ( persons.filter( person => person.name === newName ).length > 0 ) {\n      const currentPerson = persons.find(person => person.name === newName)\n      if (window.confirm(`${currentPerson.name} is already added to phonebook, replace the old number with a new one?`)) {\n        const nameObject = {\n          name: currentPerson.name,\n          number: newPhone\n        }\n        noteServise\n          .update(currentPerson.id, nameObject)\n          .then(response => {\n            handleChangingErrorMessage(`${response.name}'s phonenumber successfully changed to ${response.number}`, \"green\")\n            setPersons( persons.map(person => person.id === response.id ? response : person))\n          })\n          .catch(response => {\n            handleChangingErrorMessage(`${nameObject.name} seems to have been deleted elsewhere...`, \"red\")\n            setPersons( persons.filter(person => person.id !== currentPerson.id))\n          })\n      }\n      return\n    }\n    const nameObject = {\n      name: newName,\n      number: newPhone\n    }\n    noteServise\n      .create(nameObject)\n      .then(response => {\n        /* console.log(\"post promise fulfilled\") */\n        handleChangingErrorMessage(`${nameObject.name} added successfully`, \"green\")\n        setPersons(persons.concat(response))\n        setNewName('')\n        setNewPhone('')\n    })\n    .catch(error => {\n      console.log(error.response.data.error)\n      handleChangingErrorMessage(error.response.data.error, \"red\")\n    })\n  }\n\n  const onDeleteButtonClick = (id) => {\n    console.log(persons)\n    const personToBeDeleted = persons.find(n => n.id === id)\n\n    if (window.confirm(`Do you really want to delete ${personToBeDeleted.name}?`)) {\n      noteServise\n        .del(id)\n        .then(response => {\n          console.log(\"delete promise fulfilled\")\n          handleChangingErrorMessage(`${personToBeDeleted.name} deleted successfully`, \"green\")\n          setPersons( persons.filter(person => person.id !== id))\n          /* console.log(persons) */\n        })\n        .catch(response => {\n          console.log(\"error\")\n          handleChangingErrorMessage(`${personToBeDeleted.name} seems to have been deleted elsewhere...`, \"red\")\n          setPersons( persons.filter(person => person.id !== personToBeDeleted.id))\n        })\n    }\n    \n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <ErrorMessage errorObject={errorMessage} />\n      <div>\n        filter shown with <input value={newFilter} onChange={handleFilterChange}/>\n      </div>\n      <Form formSubmit={addPerson} newName={newName} newPhone={newPhone} nameHandler={handleNameChange} phoneHandler={handlePhoneChange} />\n      <PhoneNumberList persons={persons} newFilter={newFilter} onDeleteButtonClick={onDeleteButtonClick} />\n    </div>\n  )\n\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}